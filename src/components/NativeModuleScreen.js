import React, {Component} from 'react';
import {Text, View, StyleSheet, requireNativeComponent} from 'react-native';
import Bulb from './Bulb';
import HRMap from './HRMap';
import TMap from './common/TMap';
// import {Button} from 'react-native-elements';

// const Bulb = requireNativeComponent("Bulb");

class NativeModuleScreen extends Component {
  constructor(props) {
    super(props);

    this.state = {
      isOn: false
    };
    // debugger;
    // this.turnOn = this.turnOn.bind(this);
    // this.turnOff = this.turnOff.bind(this);
    this.onStatusChange = this.onStatusChange.bind(this);
  }

  // turnOn() {
  //   NativeModules.Bulb.turnOn();
  //   this.updateStatus();
  // }
  //
  // turnOff() {
  //   NativeModules.Bulb.turnOff();
  //   this.updateStatus();
  // }
  //
  // updateStatus() {
  //   NativeModules.Bulb.getStatus((error, isOn) => {
  //     this.setState({isOn: isOn});
  //   });
  // }

  onStatusChange(e) {
    // debugger;
    this.setState({isOn: e.nativeEvent.isOn});
  }

  render() {
    let gpsTrackings = [[-97.74502295, 30.42935881], [-97.74485506, 30.42924293], [-97.74473269, 30.4290825],
      [-97.74472707, 30.42877862], [-97.74491841, 30.42868403], [-97.74503143, 30.42837693],
      [-97.74509039, 30.42819489], [-97.74530085, 30.42824608], [-97.74556495, 30.42830722],
      [-97.74602886, 30.42840576], [-97.74653114, 30.42851094], [-97.74701079, 30.42861138],
      [-97.74766181, 30.4287477], [-97.74826458, 30.42887391], [-97.748804, 30.42898651], [-97.74938691, 30.42910753],
      [-97.74993968, 30.42919735], [-97.75049792, 30.42920575], [-97.75107883, 30.42909748],
      [-97.75157745, 30.42888217], [-97.75202889, 30.42860842], [-97.75248178, 30.42816651],
      [-97.75275241, 30.42778061], [-97.75297878, 30.42743156], [-97.75323957, 30.42705204],
      [-97.75341125, 30.42681759], [-97.75358064, 30.42680639], [-97.75386732, 30.42694757],
      [-97.75414406, 30.42708655], [-97.75449417, 30.42726237], [-97.75487862, 30.42745544],
      [-97.75558071, 30.42776336], [-97.75624926, 30.42813247], [-97.7569561, 30.42837402],
      [-97.75748818, 30.42866936], [-97.75797618, 30.42888348], [-97.75856618, 30.42916976],
      [-97.75907815, 30.42917588], [-97.75923623, 30.42898951], [-97.75913383, 30.42869747],
      [-97.7588314, 30.42854623], [-97.7583291, 30.42829503], [-97.75765569, 30.42795488], [-97.75697899, 30.42761758],
      [-97.75630599, 30.42728804], [-97.75565263, 30.42696437], [-97.75501489, 30.42665298],
      [-97.75435076, 30.42634019], [-97.75363502, 30.42599329], [-97.75291248, 30.42563857],
      [-97.75221356, 30.42529545], [-97.75148564, 30.42494342], [-97.7507799, 30.424608], [-97.75001982, 30.42429799],
      [-97.7493061, 30.42386322], [-97.74867277, 30.42330335], [-97.74818611, 30.4226364], [-97.74780884, 30.42189485],
      [-97.7475086, 30.42112443], [-97.74735329, 30.42042869], [-97.74725614, 30.41983249], [-97.7471569, 30.41920598],
      [-97.74703603, 30.4186511], [-97.74696319, 30.41813469], [-97.746872, 30.4175187], [-97.74675172, 30.41700271],
      [-97.74664426, 30.41653731], [-97.7465907, 30.41611138], [-97.74646833, 30.41575653],
      [-97.74646606, 30.41541091], [-97.74640278, 30.41512525], [-97.74634888, 30.41480075],
      [-97.74625258, 30.41441501], [-97.74620027, 30.4140294], [-97.74607723, 30.41354983],
      [-97.74597882, 30.41303698], [-97.7458738, 30.41259052], [-97.74580012, 30.41221577],
      [-97.74572988, 30.41184763], [-97.74561103, 30.41136819], [-97.74553022, 30.41089403],
      [-97.74545495, 30.41033835], [-97.74540072, 30.40982961], [-97.74533618, 30.40922896],
      [-97.7453164, 30.40876511], [-97.7453221, 30.40837279], [-97.74533358, 30.40797155], [-97.74535823, 30.40755711],
      [-97.74538731, 30.40709903], [-97.74546091, 30.40662831], [-97.74549435, 30.40619957],
      [-97.74558563, 30.4057304], [-97.74559619, 30.40519739], [-97.74560013, 30.40466971],
      [-97.74565252, 30.40406751], [-97.74573592, 30.40343405], [-97.74582954, 30.40276865],
      [-97.74592082, 30.40211155], [-97.7460002, 30.40139938], [-97.74605996, 30.400737], [-97.74614864, 30.40004327],
      [-97.74621394, 30.39935793], [-97.74627722, 30.39867359], [-97.74634134, 30.39799729], [-97.746398, 30.39737448],
      [-97.74650378, 30.396689], [-97.74660579, 30.39599289], [-97.74666564, 30.39525239], [-97.74670771, 30.39451533],
      [-97.74672389, 30.3937796], [-97.7466736, 30.39308386], [-97.74656061, 30.39237325], [-97.74631955, 30.39163254],
      [-97.74599114, 30.3908886], [-97.74560231, 30.39011927], [-97.74525572, 30.38936741],
      [-97.74492413, 30.38866513], [-97.74464157, 30.38801969], [-97.74431719, 30.38735249],
      [-97.74396071, 30.38666731], [-97.74360649, 30.38597266], [-97.74321715, 30.38528886],
      [-97.74290401, 30.38460352], [-97.74261684, 30.38389193], [-97.74231342, 30.3831731],
      [-97.74197898, 30.38244094], [-97.74152175, 30.38174382], [-97.7409957, 30.38113475], [-97.740473, 30.38066264],
      [-97.73999213, 30.38021634], [-97.73953775, 30.37977122], [-97.73915436, 30.37932589],
      [-97.73905755, 30.37885743], [-97.73913433, 30.37837241], [-97.73923332, 30.37784611], [-97.739408, 30.37727442],
      [-97.73953741, 30.37664808], [-97.73971612, 30.37598692], [-97.7399208, 30.37544298],
      [-97.74012482, 30.37489761], [-97.74033093, 30.37434842], [-97.74055238, 30.37378818],
      [-97.74077701, 30.3732027], [-97.74102478, 30.3725977], [-97.74126031, 30.37197278], [-97.74153239, 30.37134137],
      [-97.74182827, 30.37068084], [-97.74211904, 30.36999805], [-97.74241501, 30.36929921],
      [-97.74267501, 30.36854622], [-97.74287517, 30.36776477], [-97.74304541, 30.36695768],
      [-97.74320483, 30.36619979], [-97.74334221, 30.36545288], [-97.74352334, 30.36473094],
      [-97.7437551, 30.36398462], [-97.74402274, 30.36324437], [-97.74438148, 30.36250396],
      [-97.74474124, 30.36176417], [-97.7451351, 30.36103721], [-97.74548505, 30.36036494], [-97.74581261, 30.35975],
      [-97.74612928, 30.35912756], [-97.74633162, 30.35848668], [-97.74656715, 30.35783084],
      [-97.7468202, 30.35716326], [-97.74712237, 30.35650168], [-97.74740894, 30.35591138],
      [-97.74769594, 30.35534782], [-97.74798218, 30.35481595], [-97.74832961, 30.35426857],
      [-97.74867746, 30.35376733], [-97.7489855, 30.35332716], [-97.74923595, 30.35297512],
      [-97.74943644, 30.35259856], [-97.74956016, 30.35234467], [-97.74953987, 30.35234052],
      [-97.74953987, 30.35234052], [-97.74960157, 30.35220193], [-97.74965655, 30.3519778],
      [-97.74944901, 30.35184234], [-97.74910904, 30.35179876], [-97.74861644, 30.3516776],
      [-97.74836532, 30.35185014], [-97.74824185, 30.35220629], [-97.74807799, 30.35268133],
      [-97.74783407, 30.35323839], [-97.74751137, 30.35380677], [-97.74716972, 30.35435666],
      [-97.74678583, 30.35493292], [-97.74642432, 30.35557673], [-97.74611444, 30.35630608],
      [-97.7458634, 30.35700765], [-97.74563466, 30.35766831], [-97.74536619, 30.35827851],
      [-97.74504625, 30.35886093], [-97.74476521, 30.35941791], [-97.74448919, 30.35995322],
      [-97.74432004, 30.36040689], [-97.74419859, 30.3606604], [-97.74419608, 30.36076484],
      [-97.74413958, 30.36089296], [-97.74408518, 30.36107178], [-97.7438727, 30.36121453],
      [-97.74349602, 30.36121708], [-97.74301725, 30.36121335], [-97.74250218, 30.36121172],
      [-97.74204461, 30.36120292], [-97.7415769, 30.36115958], [-97.74123249, 30.36105188],
      [-97.74104498, 30.3609432], [-97.74105739, 30.3606526], [-97.74105521, 30.36041171],
      [-97.74101975, 30.36002304], [-97.74084977, 30.3596459], [-97.74079462, 30.35920212],
      [-97.74081934, 30.35876311], [-97.74069135, 30.35850872], [-97.74045431, 30.35842721],
      [-97.74010755, 30.35832671], [-97.73972961, 30.3581338], [-97.73934069, 30.35797702],
      [-97.73878137, 30.35774337], [-97.73823964, 30.35747523], [-97.73775861, 30.35730152],
      [-97.73746038, 30.35700375], [-97.73723876, 30.35689642], [-97.73703123, 30.35688385],
      [-97.73714648, 30.35684274], [-97.73711848, 30.35684642], [-97.73711848, 30.35684642],
      [-97.7369622, 30.35682561], [-97.73712929, 30.35683708], [-97.73718202, 30.35675158],
      [-97.73707272, 30.35673893], [-97.73711328, 30.35663989], [-97.73726114, 30.35679605],
      [-97.73729526, 30.35681152], [-97.73729526, 30.3568157]];
    gpsTrackings = [[-122.406417,37.785834],[-122.406417,37.785834]];
    return (
      <View style={styles.container}>
        {/*<View style={styles.top} >*/}
        {/*  <Text>This state of Bulb come from Native Code to JavaScript</Text>*/}
        {/*  <Text>{this.state.isOn ? "Bulb is On" : "Bulb is Off"}</Text>*/}
        {/*</View>*/}
        {/*<Bulb isOn={this.state.isOn} onStatusChange={(e) => this.onStatusChange(e)} />*/}
        <TMap
          startAddress={{latitude: 30.42935881, longitude: -97.74502295}}
          endAddress={{latitude: 30.3568157, longitude: -97.73729526}}
          trackings={gpsTrackings}
        />
      </View>
    );
  }
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#F5FCFF',
  },
  top: {
    flex: 1,
    alignItems: 'center',
    justifyContent: 'center',
  }
});

export default NativeModuleScreen;
